PROMPT (ONE SHOT) — ARC “LIVE CORE STABILIZATION”

You are working on the existing deployed app at https://x-bioai.com
 (ARC Intelligence Framework + X Bio Sentinel).
Goal: make the system real / live / consistent / usable as an operational virtual office within one session.

Non-negotiable Rules

Do NOT remove or rename any existing endpoints.

Do NOT delete or modify any existing tables.

Additive changes only.

All “live / logging / instrumentation” must be header-gated by valid ARC secret (x_arc_secret preferred, x-arc-secret legacy).

Current Reality (assume already implemented)

Causal Memory tables + endpoints (intent/action/result/impact/timeline) exist and pass E2E.

Reflective Loop table + endpoints exist.

Agent Contracts exist and are applied to /api/chat and /api/tts.

/arc/execute supports real operational commands (create_task, update_task, log_event, etc).

Primary Objectives (highest priority)

Stabilize Production “Live” Behavior

Fix any 401/502 / WebSocket errors that prevent live data rendering.

Ensure all pages load without console/network critical errors.

Ensure auth/session works consistently across pages in production.

Make UI use REAL DATA (No Mock)

For all dashboard/list/chart pages: replace any mock/static datasets with API calls.

Minimum: /dashboard, /command-logs, /system-monitor, /team, /analytics, /bio-sentinel.

Add clear “No data yet” states (not fake data).

System Architecture Page is Documentation Only

Keep /system-architecture informational (no chat on agent cards).

Verify it shows correct counts from the backend (agents, pages, endpoints, tables) if possible; otherwise display as static “documented inventory”.

Telegram bot stopped working (diagnose + restore)

Check why it stopped: token missing, webhook URL mismatch, route not reachable, or n8n not emitting.

Restore a working path for notifications:

Either: backend → Telegram directly (if token exists)

Or: backend → n8n webhook → Telegram

Provide a simple smoke test endpoint or command via /arc/execute to send a Telegram test message (header-gated).

Navigation Completeness

Ensure sidebar (EN/AR) exposes all pages and routing is consistent.

Add a single “All Pages / Sitemap” view (or section on System Architecture) listing every route and whether it’s “Live Data” or “Doc Only”.

Deliverable Format (MANDATORY)

Before changing anything, output a PRE-EXECUTION CHANGE SPEC in Markdown:

What you will change (grouped by objective)

Files to change (list only)

Endpoints affected/added (list only)

DB impact (confirm: no existing table changes)

Test plan (URLs + minimal steps)

Then execute in this order:
A) Production errors + auth/session + WS fixes
B) Replace mocks with real API calls (critical pages first)
C) Telegram restore + test command
D) Sitemap / navigation completeness

After EACH phase:

List files changed

List endpoints added (if any)

Provide smoke test results (what you tested + outcome)

Start now with the PRE-EXECUTION CHANGE SPEC only